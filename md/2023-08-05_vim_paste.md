---
title: vimで改行コードを削ってペースト
date: 2023-08-05
description: ""
genre: "パソコン"
---

まず前提として、vim でヤンクペーストしたテキストは vim 内のレジスタで完結しているので、  
例えば wsl 上で vim を動かしているときにテキストをホスト側とやり取りするには vimrc に何かしらの設定が必要、というのは周知の通りだとおもいますが

```init.lua
-- 一例
vim.cmd([[ set clipboard^=unnamedplus ]])

vim.g.clipboard = {
	name = 'win32yank',
	copy = {
		['+'] = 'win32yank.exe -i',
		['*'] = 'win32yank.exe -i'
	},
	paste = {
		['+'] = 'win32yank.exe -o',
		['*'] = 'win32yank.exe -o'
	},
	cache_enabled = 1
}
```

win 上でコピーしたテキストを vim 側にペーストするときに改行コードの違いでバグってて、
![img](/images/2023-08-05_hp000343.png)
↑^M が残る

まあ vscode とか windows terminal とかの vim フロントエンド側のペースト使えばいいだけだから全く困ってなくて放置してた問題があったんだけどいい加減直すかと思って直してもらったら直った

[https://chat.openai.com/share/9e4e3fa5-125d-44fa-a2c2-394c01f8b641](https://chat.openai.com/share/9e4e3fa5-125d-44fa-a2c2-394c01f8b641)
